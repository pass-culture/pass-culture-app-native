diff --git a/node_modules/wdio-slack-service/src/index.js b/node_modules/wdio-slack-service/src/index.js
index a6044c7..ea74bc4 100755
--- a/node_modules/wdio-slack-service/src/index.js
+++ b/node_modules/wdio-slack-service/src/index.js
@@ -32,7 +32,12 @@ class SlackService {
         if (test._currentRetry >= 0 && !results.passed) {
             --this.tests;
             if(test._currentRetry === test._retries || test._retries === -1) {
-                let testError = results.error.matcherResult.message().replace(/[\u001b\u009b][-[+()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g, "");
+                let testError = "";
+                if ('matcherResult' in results.error)
+                    testError = results.error.matcherResult.message.replace(/[\u001b\u009b][-[+()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g, "");
+                else{
+                    testError = results.error
+                }
                 ++this.failedTests;
                 ++this.tests;
                 const attach = failedAttachment(test, testError.toString(), results);
@@ -52,6 +57,7 @@ class SlackService {
         this.attachment[0].title = `${this.testNameFull}`;
         this.attachment[0].color = `#ffc107`;
         this.attachment.push({author_name: `Total tests: ${this.tests} | Total passed: ${this.passedTests} | Total failed: ${this.failedTests}`, color: `#4366c7` });
+
         if (this.failedTests > 0 && this.options.notifyOnlyOnFailure === true) {
             await this.webhook.send({ attachments: this.attachment });
             return;
