import type { ReadonlyDeep } from 'type-fest'

import {
  BookingCancellationReasons,
  BookingsResponse,
  ReactionTypeEnum,
  SubcategoryIdEnum,
  WithdrawalTypeEnum,
} from 'api/gen'
import { toMutable } from 'shared/types/toMutable'

export const bookingFixture: BookingsResponse['ongoing_bookings'][0] = {
  id: 123,
  cancellationDate: null,
  cancellationReason: null,
  confirmationDate: '2021-03-15T23:01:37.925926',
  dateCreated: '2021-02-15T23:01:37.925926',
  dateUsed: null,
  expirationDate: null,
  totalAmount: 1900,
  token: '352UW4',
  quantity: 10,
  qrCodeData: 'PASSCULTURE:v3;TOKEN:352UW4',
  stock: {
    id: 150230,
    beginningDatetime: '2021-03-15T20:00:00',
    price: 400,
    priceCategoryLabel: 'Cat 4',
    features: ['VOSTFR', '3D', 'IMAX'],
    offer: {
      id: 147874,
      bookingContact: null,
      name: 'Avez-vous déjà vu\u00a0?',
      extraData: {
        ean: '123456789',
      },
      isPermanent: false,
      isDigital: true,
      subcategoryId: SubcategoryIdEnum.EVENEMENT_PATRIMOINE,
      venue: {
        id: 2185,
        city: 'Drancy',
        name: 'Maison de la Brique',
        coordinates: {
          latitude: 48.91683,
          longitude: 2.43884,
        },
        address: '1 boulevard de la brique',
        postalCode: '93700',
        timezone: 'Europe/Paris',
      },
      withdrawalDetails: null,
    },
  },
  externalBookings: [],
}
export const bookingsSnap = toMutable({
  ended_bookings: [
    {
      id: 321,
      cancellationDate: '2021-03-15T23:01:37.925926',
      cancellationReason: BookingCancellationReasons.BENEFICIARY,
      confirmationDate: '2021-02-15T23:01:37.925926',
      dateCreated: '2021-02-15T23:01:37.925926',
      dateUsed: null,
      expirationDate: null,
      totalAmount: 1900,
      token: '352UW5',
      quantity: 10,
      userReaction: null,
      stock: {
        id: 150230,
        price: 400,
        priceCategoryLabel: 'Cat 4',
        beginningDatetime: '2021-03-14T20:00:00',
        features: ['VOSTFR', '3D', 'IMAX'],
        offer: {
          id: 147874,
          bookingContact: null,
          name: 'Avez-vous déjà vu\u00a0?',
          extraData: null,
          isPermanent: false,
          isDigital: true,
          subcategoryId: SubcategoryIdEnum.EVENEMENT_PATRIMOINE,
          venue: {
            id: 2185,
            city: 'Drancy',
            name: 'Maison de la Brique',
            coordinates: {
              latitude: 48.91683,
              longitude: 2.43884,
            },
            address: '1 boulevard de la brique',
            postalCode: '93700',
            publicName: 'Maison de la Brique en mousse',
            timezone: 'Europe/Paris',
          },
          withdrawalDetails: null,
        },
      },
    },
    {
      id: 322,
      confirmationDate: '2021-02-15T23:01:37.925926',
      dateCreated: '2021-02-15T23:01:37.925926',
      dateUsed: '2021-03-15T23:01:37.925926',
      expirationDate: null,
      totalAmount: 1900,
      token: '352UW5',
      quantity: 10,
      userReaction: ReactionTypeEnum.LIKE,
      stock: {
        id: 150230,
        price: 400,
        priceCategoryLabel: 'Cat 4',
        beginningDatetime: '2021-03-14T20:00:00',
        features: ['VOSTFR', '3D', 'IMAX'],
        offer: {
          id: 147874,
          bookingContact: null,
          name: 'Avez-vous déjà vu\u00a0?',
          extraData: null,
          isPermanent: false,
          isDigital: true,
          subcategoryId: SubcategoryIdEnum.SEANCE_CINE,
          venue: {
            id: 2185,
            city: 'Drancy',
            name: 'Maison de la Brique',
            coordinates: {
              latitude: 48.91683,
              longitude: 2.43884,
            },
            address: '1 boulevard de la brique',
            postalCode: '93700',
            publicName: 'Maison de la Brique en mousse',
            timezone: 'Europe/Paris',
          },
          withdrawalDetails: null,
        },
      },
    },
  ],
  ongoing_bookings: [
    {
      id: 123,
      cancellationDate: null,
      cancellationReason: null,
      confirmationDate: '2021-03-15T23:01:37.925926',
      dateCreated: '2021-02-15T23:01:37.925926',
      dateUsed: null,
      expirationDate: null,
      totalAmount: 1900,
      token: '352UW4',
      quantity: 10,
      qrCodeData: 'PASSCULTURE:v3;TOKEN:352UW4',
      stock: {
        id: 150230,
        beginningDatetime: '2021-03-15T20:00:00',
        price: 400,
        priceCategoryLabel: 'Cat 4',
        features: ['VOSTFR', '3D', 'IMAX'],
        offer: {
          id: 147874,
          bookingContact: null,
          name: 'Avez-vous déjà vu\u00a0?',
          extraData: {
            ean: '123456789',
          },
          isPermanent: false,
          isDigital: true,
          subcategoryId: SubcategoryIdEnum.EVENEMENT_PATRIMOINE,
          venue: {
            id: 2185,
            city: 'Drancy',
            name: 'Maison de la Brique',
            coordinates: {
              latitude: 48.91683,
              longitude: 2.43884,
            },
            address: '1 boulevard de la brique',
            postalCode: '93700',
            timezone: 'Europe/Paris',
          },
          withdrawalDetails: null,
        },
      },
      externalBookings: [],
    },
    {
      id: 124,
      cancellationDate: null,
      cancellationReason: null,
      confirmationDate: '2021-03-15T23:01:37.925926',
      dateCreated: '2021-02-15T23:01:37.925926',
      dateUsed: null,
      expirationDate: null,
      totalAmount: 1900,
      token: '352UW4',
      quantity: 10,
      qrCodeData: 'PASSCULTURE:v3;TOKEN:352UW4',
      stock: {
        id: 150230,
        beginningDatetime: '2021-03-15T20:00:00',
        price: 400,
        priceCategoryLabel: 'Cat 4',
        features: ['VOSTFR', '3D', 'IMAX'],
        offer: {
          id: 147874,
          bookingContact: null,
          name: 'Avez-vous déjà vu\u00a0?',
          extraData: {
            ean: '123456789',
          },
          isPermanent: false,
          isDigital: false,
          subcategoryId: SubcategoryIdEnum.EVENEMENT_PATRIMOINE,
          venue: {
            id: 2185,
            city: 'Drancy',
            name: 'Maison de la Brique',
            coordinates: {
              latitude: 48.91683,
              longitude: 2.43884,
            },
            address: '1 boulevard de la brique',
            postalCode: '93700',
            timezone: 'Europe/Paris',
          },
          withdrawalDetails: null,
          withdrawalType: WithdrawalTypeEnum.on_site,
        },
      },
      externalBookings: [
        { barcode: 'PASSCULTURE:v3;TOKEN:352UW4', seat: 'A12' },
        { barcode: 'PASSCULTURE:v3;TOKEN:352UW4', seat: 'A13' },
      ],
    },
  ],
  hasBookingsAfter18: true,
} as const satisfies ReadonlyDeep<BookingsResponse>)

export const emptyBookingsSnap = toMutable({
  ended_bookings: [],
  ongoing_bookings: [],
  hasBookingsAfter18: true,
} as const satisfies ReadonlyDeep<BookingsResponse>)
