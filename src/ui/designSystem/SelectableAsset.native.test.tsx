/**
 ⚠️ Design System — Protected file
 Do not edit this file without prior approval from the Design System team.
 */

import React from 'react'
import styled from 'styled-components/native'

import { render, screen } from 'tests/utils'
import { Validate } from 'ui/svg/icons/Validate'

import { SelectableAsset } from './SelectableAsset'

const ValidateIcon = styled(Validate).attrs(({ theme }) => ({
  color: theme.designSystem.color.icon.brandPrimary,
  size: theme.icons.sizes.smaller,
  testID: 'dummy-icon',
}))``

describe('SelectableAsset', () => {
  it('renders text variant', () => {
    const textAsset = '32\u00a0€'
    render(<SelectableAsset variant="text" text={textAsset} />)

    expect(screen.getByText(textAsset)).toBeOnTheScreen()
  })

  it('renders tag variant', () => {
    render(<SelectableAsset variant="tag" tag={{ label: 'TagLabel', testID: 'tag' }} />)

    expect(screen.getByText('TagLabel')).toBeOnTheScreen()
  })

  it('renders iconElement when provided', () => {
    render(<SelectableAsset variant="icon" iconElement={<Validate testID="dummy-element" />} />)

    expect(screen.getByTestId('dummy-element')).toBeOnTheScreen()
  })

  it('renders Icon when no iconElement is provided', () => {
    render(<SelectableAsset variant="icon" Icon={ValidateIcon} />)

    expect(screen.getByTestId('dummy-icon')).toBeOnTheScreen()
  })
})
