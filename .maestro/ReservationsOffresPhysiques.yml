appId: app.passculture.staging
---

- runFlow: reusableFlows/LaunchApp.yml # Launch App
- runFlow: src/features/identityCheck/FirstLaunch.yml # First Launch
- runFlow: reusableFlows/ui/components/buttons/SimpleActionButtonSearchOffers.yml
- runFlow: reusableFlows/ui/components/buttons/SimpleActionButtonBack.yml
- runFlow: reusableFlows/ui/components/buttons/SimpleActionButtonSearchOffers.yml
- tapOn: "Films, séries, cinéma"
#- TODO trouver une solution pour cliquer sans passer par la position.
- tapOn:
    point: "50%,71%"
- tapOn: "Réserver l’offre"
- runFlow: src/features/auth/ToLogin.yml # Se connecter
- runFlow: reusableFlows/ui/components/buttons/DoubleActionButtonConnect.yml
- runFlow: reusableFlows/ui/components/buttons/SimpleActionButtonLater.yml
- runFlow: reusableFlows/ui/components/buttons/SimpleActionButtonSearchOffers.yml
- tapOn: "Catégories\_: Filtre sélectionné"
- tapOn: "Films, séries, cinéma"
- tapOn: "Rechercher"
#- TODO trouver une solution pour cliquer sans passer par la position.
- tapOn:
    point: "49%,69%"
- tapOn:
    point: "49%,69%"
- tapOn: "Réserver l’offre"
- runFlow: src/features/bookOffer/PreBookingPage.yml # PreBookingReservation

- tapOn: "Confirmer la réservation"
- runFlow: src/features/bookOffer/BookingConfirmationPage.yml # BookingConfirmationPage
- tapOn: "Voir ma réservation"
- assertVisible: "Pour profiter de ta réservation, tu dois présenter ta carte d’identité\
    \ et ce code à 6 caractères. N’oublie pas que tu n’as pas le droit de le revendre\
    \ ou le céder."
- assertVisible: "Ma réservation"
- tapOn:
      id: "animated-icon-back"
- assertVisible:
      text: "Mes réservations"
      index: 0
- assertVisible: "Mes réservations"
#- TODO trouver une solution pour cliquer sans passer par la position.
- tapOn:
      point: "61%,16%"

- scrollUntilVisible:
      element: "Annuler ma réservation"
      direction: DOWN

- tapOn: "Annuler ma réservation"
- runFlow: src/features/bookings/BookingCancellationPage.yml # BookingCancellationPage

- tapOn: "Annuler ma réservation"
- assertVisible: "Réservations terminées"

- runFlow: reusableFlows/StopApp.yml # Stop App