appId: ${MAESTRO_APP_ID}
---
- scrollUntilVisible:
    element: 'Partager le pass Culture'

- tapOn:
    text: 'Informations légales'

- assertVisible: 'Informations légales'
- tapOn:
    id: "Nouvelle fenêtre\_: Conditions Générales d’Utilisation"
- waitForAnimationToEnd

- runFlow:
    when:
      platform: Android
    file: ../../subFolder/cloud/commands/DoubleTapOnBack.yml
- runFlow:
    when:
      platform: iOS
    commands:
    - tapOn: "Revenir à pass Culture S"
    - tapOn: "Revenir en arrière"
    - scrollUntilVisible:
        element: 'Partager le pass Culture'

- runFlow: # Fallback si problème de retour
    when:
      visible: 'Autres'
    commands:
      - tapOn:
          text: 'Informations légales'

- tapOn:
    id: "Nouvelle fenêtre\_: Charte de protection des données personnelles"
- 'waitForAnimationToEnd'
- runFlow:
    when:
      platform: Android
    file: ../../subFolder/cloud/commands/DoubleTapOnBack.yml
- runFlow:
    when:
      platform: iOS
    commands:
    - tapOn: "Revenir à pass Culture S"
    - tapOn: "Revenir en arrière"
    - scrollUntilVisible:
        element: 'Partager le pass Culture'

- runFlow:
    when:
      platform: Android
    file: ../../subFolder/cloud/commands/TapOnBack.yml

- runFlow: # Fallback si problème de retour
    when:
      visible: 'Bonjour Test-e2e.*'
    commands:
      - tapOn:
          id: 'Mon profil'
