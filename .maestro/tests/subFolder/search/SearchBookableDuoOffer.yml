appId: ${MAESTRO_APP_ID}
onFlowStart:
  - runScript: ../../subFolder/commons/GetCurrentDay.js
---
- assertVisible: 'Rechercher'
- runFlow:
    when:
      platform: iOS
    commands:
      - tapOn: 'Catégories Cinéma.*'

- runFlow:
    when:
      platform: Android
    commands:
      - tapOn: 'Cinéma'

- tapOn: "Films à l'affiche"

# TODO(e2e): Attendre que "Catégories soit check"
- tapOn: 'Catégories'

- assertVisible: "Films à l'affiche"

- tapOn: 'Rechercher'
- tapOn:
    id: '.*Voir tous les filtres.*'
- tapOn: 'Duo'
- tapOn:
    id: 'Interrupteur limitDuoOfferSearch'
- tapOn: 'Appliquer le filtre'

- tapOn: 'Dates'

- tapOn:
    id: "native.calendar.SELECT_DATE_SLOT-${targetDateTest}"

- tapOn:
    text: 'Appliquer le filtre'
    retryTapIfNoChange: true
- tapOn: 'Rechercher'
