appId: ${MAESTRO_APP_ID}
---
- tapOn:
    text: 'Informations légales'
    index: 1

- assertVisible: 'Informations légales'
- assertVisible: 'Mentions légales'
- tapOn:
    id: "Nouvelle fenêtre\_: Conditions Générales d’Utilisation"
- waitForAnimationToEnd

- runFlow: # Permet de retourner sur la page précédente (cloud)
    when:
      true: ${MAESTRO_RUN_CLOUD_COMMANDS}
    file: ../../subFolder/cloud/commands/DoubleTapOnBack.yml

- doubleTapOn: # Permet de quitter le browser in-app (local)
    id: 'com.android.systemui:id/back'
    optional: true

- runFlow: # Fallback si problème de retour
    when:
      visible: 'Autres'
    commands:
      - tapOn:
          text: 'Informations légales'
          index: 1

- tapOn:
    id: "Nouvelle fenêtre\_: Charte de protection des données personnelles"
- 'waitForAnimationToEnd'
- runFlow: # Permet de retourner sur la page précédente (cloud)
    when:
      true: ${MAESTRO_RUN_CLOUD_COMMANDS}
    file: ../../subFolder/cloud/commands/DoubleTapOnBack.yml

- doubleTapOn: # Permet de quitter le browser in-app
    id: 'com.android.systemui:id/back'
    optional: true

- runFlow: # Permet de retourner sur la page précédente (cloud)
    when:
      true: ${MAESTRO_RUN_CLOUD_COMMANDS}
    file: ../../subFolder/cloud/commands/TapOnBack.yml

- tapOn:
    id: 'com.android.systemui:id/back'
    optional: true

- runFlow: # Fallback si problème de retour
    when:
      visible: 'Bonjour Test-e2e'
    commands:
      - tapOn:
          id: 'Mon profil'
